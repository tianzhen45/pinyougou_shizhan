<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>修改订单价格</title>
    <script src="../js/vuejs-2.5.16.js"></script>
    <script src="../js/axios-0.18.0.js"></script>
</head>
<body>
<div id="app">
价格：<input v-model="order.payment" type="text">
<button @click="updatePayment()">修改</button>
</div>
</body>
<script type="text/javascript">
    var app = new Vue({
        el: "#app",
        data: {

            order:{"payment":0,"orderId":""}
        },
        methods: {
            //根据参数名字获取参数
            getParameterByName: function (name) {
                return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, ""])[1].replace(/\+/g, '%20')) || null
            },
            updatePayment() {
                axios.post("../order/changeStatus.do",this.order).then(res=>{
                    if (!res.data.success) {
                        alert("修改失败");
                    }
                    locationl.href = "Order.html";
                })
            }

        },
        create() {
            this.order.orderId = this.getParameterByName(orderI);
            alert(app.order.orderId);


        }
    });
</script>
</html>